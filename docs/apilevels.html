<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2023-02-08T18:39:38.130881183"/><meta name="build-number" content="456"/>    <meta name="keywords" content="">   <script> (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5P98'); </script><script src="https://resources.jetbrains.com/storage/help-app/v5/analytics.js"></script>  <title>Access APIs | Dataframe Documentation</title><script id="virtual-toc-data" type="application/json">[{"id":"list-of-access-apis","level":0,"title":"List of Access APIs","anchor":"#list-of-access-apis"},{"id":"example","level":0,"title":"Example","anchor":"#example"},{"id":"comparing-the-apis","level":0,"title":"Comparing the APIs","anchor":"#comparing-the-apis"}]</script>   <link href="https://resources.jetbrains.com/storage/help-app/v5/app.css" rel="stylesheet"/>   <link rel="icon" href="https://resources.jetbrains.com/storage/products/jetbrains/img/icons/favicon.ico" sizes="any"/><!-- 32×32 --><link rel="icon" href="https://resources.jetbrains.com/storage/products/jetbrains/img/icons/icon.svg" type="image/svg+xml"/><link rel="apple-touch-icon" href="https://resources.jetbrains.com/storage/products/jetbrains/img/icons/apple-touch-icon.png"/><!-- 180×180 --><link rel="manifest" href="https://www.jetbrains.com/site.webmanifest"/><meta name="apple-mobile-web-app-title" content="JetBrains"/><meta name="application-name" content="JetBrains"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/>  <meta name="image" content=""/><!-- Open Graph --><meta property="og:title" content="Access APIs | Dataframe"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="Dataframe Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://kotlin.github.io/dataframe/0.9/apilevels.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content=""/><meta name="twitter:title" content="Access APIs | Dataframe"/><meta name="twitter:description" content=""/><meta name="twitter:creator" content=""/><meta name="twitter:image:src" content=""/><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://kotlin.github.io/dataframe/0.9/apilevels.html#webpage", "url": "https://kotlin.github.io/dataframe/0.9/apilevels.html", "name": "Access APIs | Dataframe", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://kotlin.github.io/dataframe/#website", "url": "https://kotlin.github.io/dataframe/", "name": "Dataframe Help" }</script><!-- End Schema.org --></head>    <body data-id="apiLevels" data-main-title="Access APIs" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="overview.md|Overview"  >  <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Dataframe 0.9 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select class="select _shortcuts" height="1" id="switch-shortcuts">  </select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="apiLevels" id="apiLevels.md"  >Access APIs</h1><p id="fc1eb86a" >By nature data frames are dynamic objects, column labels depend on the input source and also new columns could be added or deleted while wrangling. Kotlin, in contrast, is a statically typed language and all types are defined and verified ahead of execution. That's why creating a flexible, handy, and, at the same time, safe API to a data frame is tricky.</p><p id="f9d20e3f" >In <code class="code "   >Kotlin DataFrame</code> we provide four different ways to access columns, and, while they are essentially different, they look pretty similar in the data wrangling DSL.</p><section class="chapter"  ><h2 id="list-of-access-apis" data-toc="list-of-access-apis"  >List of Access APIs</h2><p id="6feaecf9" >Here's a list of all APIs in order of increasing safety.</p><ul class="list _bullet" id="9a9ddeaa"    ><li class="list__item" id="18b26ffc" ><p id="ec1efeae" ><a href="stringapi.html" id="c206a7e3"   >String API</a> <br/> Columns are accessed by <code class="code "   >string</code> representing their name. Type-checking is done at runtime, name-checking too.</p></li><li class="list__item" id="390d80a4" ><p id="124c5975" ><a href="columnaccessorsapi.html" id="1b23f8e0"   >Column Accessors API</a> <br/> Every column has a descriptor; a variable that represents its name and type.</p></li><li class="list__item" id="6985bf87" ><p id="8cf9eea5" ><a href="kpropertiesapi.html" id="cddad822"   >KProperties API</a> <br/> Columns accessed by the <a href="https://kotlinlang.org/docs/reflection.html#property-references" id="3e1b48b0"   data-external="true" rel="noopener noreferrer" ><code class="code "   >KProperty</code></a> of some class. The name and type of column should match the name and type of property, respectively.</p></li><li class="list__item" id="c4942ab0" ><p id="fcb6e81f" ><a href="extensionpropertiesapi.html" id="f35217f2"   >Extension Properties API</a> Extension access properties are generated based on the dataframe schema. The name and type of properties are inferred from the name and type of the corresponding columns.</p></li></ul></section><section class="chapter"  ><h2 id="example" data-toc="example"  >Example</h2><p id="77bc657a" >Here's an example of how the same operations can be performed via different Access APIs:</p><aside data-type="note" class="prompt" data-title="" id="8793ed31" ><p>In the most of the code snippets in this documentation there's a tab selector that allows switching across Access APIs.</p></aside><div class="tabs" id="a78d14f4"data-anchors="[64e2bfca,3f1ddcc5,e2ca9907,a61648b1,c51c60d5,178ccd7c,4c2e2ae4,c6fce2c3,992a2481,a78d14f4]"><div class="tabs__content" data-gtm="tab" id="64e2bfca"   data-title="String API" ><div class="code-block" data-lang="kotlin"    data-title="Kotlin"  data-anchors="[3f1ddcc5]"     >DataFrame.read(&quot;titanic.csv&quot;)
    .add(&quot;lastName&quot;) { &quot;name&quot;&lt;String&gt;().split(&quot;,&quot;).last() }
    .dropNulls(&quot;age&quot;)
    .filter {
        &quot;survived&quot;&lt;Boolean&gt;() &amp;&amp;
            &quot;home&quot;&lt;String&gt;().endsWith(&quot;NY&quot;) &amp;&amp;
            &quot;age&quot;&lt;Int&gt;() in 10..20
    }
</div></div><div class="tabs__content" data-gtm="tab" id="e2ca9907"   data-title="Column Accessors API" ><div class="code-block" data-lang="kotlin"    data-title="Kotlin"  data-anchors="[a61648b1]"     >val survived by column&lt;Boolean&gt;()
val home by column&lt;String&gt;()
val age by column&lt;Int?&gt;()
val name by column&lt;String&gt;()
val lastName by column&lt;String&gt;()

DataFrame.read(&quot;titanic.csv&quot;)
    .add(lastName) { name().split(&quot;,&quot;).last() }
    .dropNulls { age }
    .filter { survived() &amp;&amp; home().endsWith(&quot;NY&quot;) &amp;&amp; age()!! in 10..20 }
</div></div><div class="tabs__content" data-gtm="tab" id="c51c60d5"   data-title="KProperties API" ><div class="code-block" data-lang="kotlin"    data-title="Kotlin"  data-anchors="[178ccd7c]"     >data class Passenger(
    val survived: Boolean,
    val home: String,
    val age: Int,
    val lastName: String
)

val passengers = DataFrame.read(&quot;titanic.csv&quot;)
    .add(Passenger::lastName) { &quot;name&quot;&lt;String&gt;().split(&quot;,&quot;).last() }
    .dropNulls(Passenger::age)
    .filter {
        it[Passenger::survived] &amp;&amp;
            it[Passenger::home].endsWith(&quot;NY&quot;) &amp;&amp;
            it[Passenger::age] in 10..20
    }
    .toListOf&lt;Passenger&gt;()
</div></div><div class="tabs__content" data-gtm="tab" id="4c2e2ae4"   data-title="Extension Properties API" ><div class="code-block" data-lang="kotlin"    data-title="Kotlin"  data-anchors="[c6fce2c3]"     >val df = DataFrame.read(&quot;titanic.csv&quot;)
</div><div class="code-block" data-lang="kotlin"    data-title="Kotlin"  data-anchors="[992a2481]"     >df.add(&quot;lastName&quot;) { name.split(&quot;,&quot;).last() }
    .dropNulls { age }
    .filter { survived &amp;&amp; home.endsWith(&quot;NY&quot;) &amp;&amp; age in 10..20 }
</div></div></div></section><section class="chapter"  ><h2 id="comparing-the-apis" data-toc="comparing-the-apis"  >Comparing the APIs</h2><p id="10b627e8" >The <a href="stringapi.html" id="a6847ea3"   >String API</a> is the simplest and unsafest of them all. The main advantage of it is that it can be used at any time, including when accessing new columns in chain calls. So we can write something like:</p><div class="code-block" data-lang="kotlin"      data-anchors="[33bfbcf5]"     >df.add(&quot;weight&quot;) { ... } // add a new column `weight`, calculated by some expression
    .sortBy(&quot;weight&quot;) // sorting dataframe rows by its value
</div><p id="5292f07" >We don't need to interrupt a function call chain and declare a column accessor or generate new properties.</p><p id="87cca6a6" >In contrast, generated <a href="extensionpropertiesapi.html" id="9d571455"   >extension properties</a> are the most convenient and the safest API. Using it, you can always be sure that you work with correct data and types. But its bottleneck is the moment of generation. To get new extension properties you have to run a cell in a notebook, which could lead to unnecessary variable declarations. Currently, we are working on compiler a plugin that generates these properties on the fly while typing!</p><p id="a0fd0cf2" >The <a href="columnaccessorsapi.html" id="573c98"   >Column Accessors API</a> is a kind of trade-off between safety and needs to be written ahead of the execution type declaration. It was designed to better be able to write code in an IDE without a notebook experience. It provides type-safe access to columns but doesn't ensure that the columns really exist in a particular dataframe.</p><p id="448e75cf" >The <a href="kpropertiesapi.html" id="61b59299"   >KProperties API</a> is useful when you already have declared classed in your application business logic with fields that correspond columns of dataframe.</p><div class="table-wrapper"><table class=" wide" id="6bcb5a08" ><thead><tr class="ijRowHead" id="49715dd6" ><th id="f5dba859"    ><p>API</p></th><th id="d3ed9a30"    ><p>Type-checking</p></th><th id="e9858b2e"    ><p>Column names checking</p></th><th id="18dd8785"    ><p>Column existence checking</p></th></tr></thead><tbody><tr class="" id="f6741fbc" ><td id="a9b3becf"    ><p>String API</p></td><td id="b23b5148"    ><p>Runtime</p></td><td id="c0b0e982"    ><p>Runtime</p></td><td id="e2b9c9d8"    ><p>Runtime</p></td></tr><tr class="" id="7ba2b937" ><td id="294771a8"    ><p>Column Accessors API</p></td><td id="55040f3"    ><p>Compile-time</p></td><td id="3ebe5915"    ><p>Compile-time</p></td><td id="c5b32683"    ><p>Runtime</p></td></tr><tr class="" id="7fa1b4d8" ><td id="cb8699bf"    ><p>KProperties API</p></td><td id="f6b1dacb"    ><p>Compile-time</p></td><td id="4d9f68c0"    ><p>Compile-time</p></td><td id="689a7d96"    ><p>Runtime</p></td></tr><tr class="" id="45c23340" ><td id="4539cfe4"    ><p>Extension Properties API</p></td><td id="654c7cc2"    ><p>Generation-time</p></td><td id="880a4c1f"    ><p>Generation-time</p></td><td id="88ee7c37"    ><p>Generation-time</p></td></tr></tbody></table></div></section><div class="last-modified"> Last modified: 08 February 2023</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">   <a class="navigation-links__prev" href="overview.html">Overview</a>   <a class="navigation-links__next" href="stringapi.html">String API</a>   </div></article>  </div></section></main></div>  <script src="https://resources.jetbrains.com/storage/help-app/v5/app.js"></script>  </body></html>